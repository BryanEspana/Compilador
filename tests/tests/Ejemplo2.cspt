class Producto {
  let nombre: string;
  let precio: integer;
  let cantidad: integer;
  
  function constructor(nombre: string, precio: integer, cantidad: integer) {
    this.nombre = nombre;
    this.precio = precio;
    this.cantidad = cantidad;
  }

  function calcularValorInventario(): integer {
    let valor: integer = this.precio * this.cantidad;
    print("Valor del inventario de " + this.nombre + ": " + valor);
    return valor;
  }

  function vender(cantidadVendida: integer): void {
    let cantidadDisponible: integer = this.cantidad;
    if (cantidadVendida <= cantidadDisponible) {
      this.cantidad = cantidadDisponible - cantidadVendida;
      print("Se vendieron " + cantidadVendida + " unidades de " + this.nombre);
    } else {
      print("No hay suficiente inventario para vender " + cantidadVendida + " unidades de " + this.nombre);
    }
  }

  function restock(cantidadAgregada: integer): void {
    this.cantidad = this.cantidad + cantidadAgregada;
    print("Se anadieron " + cantidadAgregada + " unidades de " + this.nombre + " al inventario.");
  }
}

class Categoria {
  let nombre: string;
  let productos: Producto[];
  
  function constructor(nombre: string) {
    this.nombre = nombre;
    this.productos = [];
  }

  function agregarProducto(producto: Producto): void {
    // Simular agregar producto (en un compilador real esto seria mas complejo)
    print("Producto " + producto.nombre + " anadido a la categoria " + this.nombre);
  }

  // Metodo recursivo para calcular el valor total de la categoria
  function calcularValorTotalRecursivo(indice: integer): integer {
    // Simplificado para evitar complejidad con arrays vacios
    return 0;
  }

  function mostrarValorTotal(): void {
    let valorTotal: integer = this.calcularValorTotalRecursivo(0);
    print("El valor total de la categoria " + this.nombre + " es: " + valorTotal);
  }
}

// Ejemplos de uso

let electronica: Categoria = new Categoria("Electronica");
let laptop: Producto = new Producto("Laptop", 1000, 10);
let smartphone: Producto = new Producto("Smartphone", 500, 20);
let tablet: Producto = new Producto("Tablet", 300, 15);

electronica.agregarProducto(laptop);
electronica.agregarProducto(smartphone);
electronica.agregarProducto(tablet);

laptop.vender(3);
smartphone.restock(10);

// Calcular el valor total
electronica.mostrarValorTotal();

